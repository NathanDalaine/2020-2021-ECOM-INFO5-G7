{"remainingRequest":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\src\\main\\webapp\\app\\entities\\reservation\\reservation.service.ts","dependencies":[{"path":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\src\\main\\webapp\\app\\entities\\reservation\\reservation.service.ts","mtime":1571756641592},{"path":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2E7DQppbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7DQppbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnOw0KaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7DQppbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7DQppbXBvcnQgeyBTRVJWRVJfQVBJX1VSTCB9IGZyb20gJ2FwcC9hcHAuY29uc3RhbnRzJzsNCmltcG9ydCB7IGNyZWF0ZVJlcXVlc3RPcHRpb24gfSBmcm9tICdhcHAvc2hhcmVkL3V0aWwvcmVxdWVzdC11dGlsJzsNCmxldCBSZXNlcnZhdGlvblNlcnZpY2UgPSBjbGFzcyBSZXNlcnZhdGlvblNlcnZpY2Ugew0KICAgIGNvbnN0cnVjdG9yKGh0dHApIHsNCiAgICAgICAgdGhpcy5odHRwID0gaHR0cDsNCiAgICAgICAgdGhpcy5yZXNvdXJjZVVybCA9IFNFUlZFUl9BUElfVVJMICsgJ2FwaS9yZXNlcnZhdGlvbnMnOw0KICAgIH0NCiAgICBjcmVhdGUocmVzZXJ2YXRpb24pIHsNCiAgICAgICAgY29uc3QgY29weSA9IHRoaXMuY29udmVydERhdGVGcm9tQ2xpZW50KHJlc2VydmF0aW9uKTsNCiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cA0KICAgICAgICAgICAgLnBvc3QodGhpcy5yZXNvdXJjZVVybCwgY29weSwgeyBvYnNlcnZlOiAncmVzcG9uc2UnIH0pDQogICAgICAgICAgICAucGlwZShtYXAoKHJlcykgPT4gdGhpcy5jb252ZXJ0RGF0ZUZyb21TZXJ2ZXIocmVzKSkpOw0KICAgIH0NCiAgICB1cGRhdGUocmVzZXJ2YXRpb24pIHsNCiAgICAgICAgY29uc3QgY29weSA9IHRoaXMuY29udmVydERhdGVGcm9tQ2xpZW50KHJlc2VydmF0aW9uKTsNCiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cA0KICAgICAgICAgICAgLnB1dCh0aGlzLnJlc291cmNlVXJsLCBjb3B5LCB7IG9ic2VydmU6ICdyZXNwb25zZScgfSkNCiAgICAgICAgICAgIC5waXBlKG1hcCgocmVzKSA9PiB0aGlzLmNvbnZlcnREYXRlRnJvbVNlcnZlcihyZXMpKSk7DQogICAgfQ0KICAgIGZpbmQoaWQpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cA0KICAgICAgICAgICAgLmdldChgJHt0aGlzLnJlc291cmNlVXJsfS8ke2lkfWAsIHsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJyB9KQ0KICAgICAgICAgICAgLnBpcGUobWFwKChyZXMpID0+IHRoaXMuY29udmVydERhdGVGcm9tU2VydmVyKHJlcykpKTsNCiAgICB9DQogICAgcXVlcnkocmVxKSB7DQogICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjcmVhdGVSZXF1ZXN0T3B0aW9uKHJlcSk7DQogICAgICAgIHJldHVybiB0aGlzLmh0dHANCiAgICAgICAgICAgIC5nZXQodGhpcy5yZXNvdXJjZVVybCwgeyBwYXJhbXM6IG9wdGlvbnMsIG9ic2VydmU6ICdyZXNwb25zZScgfSkNCiAgICAgICAgICAgIC5waXBlKG1hcCgocmVzKSA9PiB0aGlzLmNvbnZlcnREYXRlQXJyYXlGcm9tU2VydmVyKHJlcykpKTsNCiAgICB9DQogICAgZGVsZXRlKGlkKSB7DQogICAgICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlKGAke3RoaXMucmVzb3VyY2VVcmx9LyR7aWR9YCwgeyBvYnNlcnZlOiAncmVzcG9uc2UnIH0pOw0KICAgIH0NCiAgICBjb252ZXJ0RGF0ZUZyb21DbGllbnQocmVzZXJ2YXRpb24pIHsNCiAgICAgICAgY29uc3QgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIHJlc2VydmF0aW9uLCB7DQogICAgICAgICAgICBkYXRlUmVzZXJ2YXRpb246IHJlc2VydmF0aW9uLmRhdGVSZXNlcnZhdGlvbiAhPSBudWxsICYmIHJlc2VydmF0aW9uLmRhdGVSZXNlcnZhdGlvbi5pc1ZhbGlkKCkgPyByZXNlcnZhdGlvbi5kYXRlUmVzZXJ2YXRpb24udG9KU09OKCkgOiBudWxsLA0KICAgICAgICAgICAgZGF0ZVJlbmR1OiByZXNlcnZhdGlvbi5kYXRlUmVuZHUgIT0gbnVsbCAmJiByZXNlcnZhdGlvbi5kYXRlUmVuZHUuaXNWYWxpZCgpID8gcmVzZXJ2YXRpb24uZGF0ZVJlbmR1LnRvSlNPTigpIDogbnVsbA0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIGNvcHk7DQogICAgfQ0KICAgIGNvbnZlcnREYXRlRnJvbVNlcnZlcihyZXMpIHsNCiAgICAgICAgaWYgKHJlcy5ib2R5KSB7DQogICAgICAgICAgICByZXMuYm9keS5kYXRlUmVzZXJ2YXRpb24gPSByZXMuYm9keS5kYXRlUmVzZXJ2YXRpb24gIT0gbnVsbCA/IG1vbWVudChyZXMuYm9keS5kYXRlUmVzZXJ2YXRpb24pIDogbnVsbDsNCiAgICAgICAgICAgIHJlcy5ib2R5LmRhdGVSZW5kdSA9IHJlcy5ib2R5LmRhdGVSZW5kdSAhPSBudWxsID8gbW9tZW50KHJlcy5ib2R5LmRhdGVSZW5kdSkgOiBudWxsOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiByZXM7DQogICAgfQ0KICAgIGNvbnZlcnREYXRlQXJyYXlGcm9tU2VydmVyKHJlcykgew0KICAgICAgICBpZiAocmVzLmJvZHkpIHsNCiAgICAgICAgICAgIHJlcy5ib2R5LmZvckVhY2goKHJlc2VydmF0aW9uKSA9PiB7DQogICAgICAgICAgICAgICAgcmVzZXJ2YXRpb24uZGF0ZVJlc2VydmF0aW9uID0gcmVzZXJ2YXRpb24uZGF0ZVJlc2VydmF0aW9uICE9IG51bGwgPyBtb21lbnQocmVzZXJ2YXRpb24uZGF0ZVJlc2VydmF0aW9uKSA6IG51bGw7DQogICAgICAgICAgICAgICAgcmVzZXJ2YXRpb24uZGF0ZVJlbmR1ID0gcmVzZXJ2YXRpb24uZGF0ZVJlbmR1ICE9IG51bGwgPyBtb21lbnQocmVzZXJ2YXRpb24uZGF0ZVJlbmR1KSA6IG51bGw7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzOw0KICAgIH0NCn07DQpSZXNlcnZhdGlvblNlcnZpY2UgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIEluamVjdGFibGUoeyBwcm92aWRlZEluOiAncm9vdCcgfSksDQogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEh0dHBDbGllbnQgIT09ICJ1bmRlZmluZWQiICYmIEh0dHBDbGllbnQpID09PSAiZnVuY3Rpb24iID8gX2EgOiBPYmplY3RdKQ0KXSwgUmVzZXJ2YXRpb25TZXJ2aWNlKTsNCmV4cG9ydCB7IFJlc2VydmF0aW9uU2VydmljZSB9Ow0K"},{"version":3,"file":"C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\src\\main\\webapp\\app\\entities\\reservation\\reservation.service.ts","sourceRoot":"","sources":["C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\baptiste\\Documents\\workspace\\2019-2020-ecom-info5-root\\app\\src\\main\\webapp\\app\\entities\\reservation\\reservation.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport * as moment from 'moment';\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { DATE_FORMAT } from 'app/shared/constants/input.constants';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { SERVER_API_URL } from 'app/app.constants';\r\nimport { createRequestOption } from 'app/shared/util/request-util';\r\nimport { IReservation } from 'app/shared/model/reservation.model';\r\n\r\ntype EntityResponseType = HttpResponse<IReservation>;\r\ntype EntityArrayResponseType = HttpResponse<IReservation[]>;\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ReservationService {\r\n  public resourceUrl = SERVER_API_URL + 'api/reservations';\r\n\r\n  constructor(protected http: HttpClient) {}\r\n\r\n  create(reservation: IReservation): Observable<EntityResponseType> {\r\n    const copy = this.convertDateFromClient(reservation);\r\n    return this.http\r\n      .post<IReservation>(this.resourceUrl, copy, { observe: 'response' })\r\n      .pipe(map((res: EntityResponseType) => this.convertDateFromServer(res)));\r\n  }\r\n\r\n  update(reservation: IReservation): Observable<EntityResponseType> {\r\n    const copy = this.convertDateFromClient(reservation);\r\n    return this.http\r\n      .put<IReservation>(this.resourceUrl, copy, { observe: 'response' })\r\n      .pipe(map((res: EntityResponseType) => this.convertDateFromServer(res)));\r\n  }\r\n\r\n  find(id: number): Observable<EntityResponseType> {\r\n    return this.http\r\n      .get<IReservation>(`${this.resourceUrl}/${id}`, { observe: 'response' })\r\n      .pipe(map((res: EntityResponseType) => this.convertDateFromServer(res)));\r\n  }\r\n\r\n  query(req?: any): Observable<EntityArrayResponseType> {\r\n    const options = createRequestOption(req);\r\n    return this.http\r\n      .get<IReservation[]>(this.resourceUrl, { params: options, observe: 'response' })\r\n      .pipe(map((res: EntityArrayResponseType) => this.convertDateArrayFromServer(res)));\r\n  }\r\n\r\n  delete(id: number): Observable<HttpResponse<any>> {\r\n    return this.http.delete<any>(`${this.resourceUrl}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  protected convertDateFromClient(reservation: IReservation): IReservation {\r\n    const copy: IReservation = Object.assign({}, reservation, {\r\n      dateReservation:\r\n        reservation.dateReservation != null && reservation.dateReservation.isValid() ? reservation.dateReservation.toJSON() : null,\r\n      dateRendu: reservation.dateRendu != null && reservation.dateRendu.isValid() ? reservation.dateRendu.toJSON() : null\r\n    });\r\n    return copy;\r\n  }\r\n\r\n  protected convertDateFromServer(res: EntityResponseType): EntityResponseType {\r\n    if (res.body) {\r\n      res.body.dateReservation = res.body.dateReservation != null ? moment(res.body.dateReservation) : null;\r\n      res.body.dateRendu = res.body.dateRendu != null ? moment(res.body.dateRendu) : null;\r\n    }\r\n    return res;\r\n  }\r\n\r\n  protected convertDateArrayFromServer(res: EntityArrayResponseType): EntityArrayResponseType {\r\n    if (res.body) {\r\n      res.body.forEach((reservation: IReservation) => {\r\n        reservation.dateReservation = reservation.dateReservation != null ? moment(reservation.dateReservation) : null;\r\n        reservation.dateRendu = reservation.dateRendu != null ? moment(reservation.dateRendu) : null;\r\n      });\r\n    }\r\n    return res;\r\n  }\r\n}\r\n"]}]}